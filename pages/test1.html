<!DOCTYPE html>
<html>
<head>
	<title>knowledgeTest</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="https://pavel-proger.github.io/1/css/style.css">
</head>
<body>
	<style>
   body {
    background: #c7b39b url(https://pavel-proger.github.io/1/images/background.jpg); /* Цвет фона и путь к файлу */
   }
  </style>

<script type="text/javascript">
// Заголовок страницы (h1)
var title = 'Тест на эрудицию';
// Подзаголовок (h2)
var subtitle = "Этот тест позволяет оценить Ваши знания";
// Массив вопросов
var questionsArr=[
{
	text: "Какого цвета кристалл хризолит",
	answers: ["Зеленый",
		  "Синий",
		  "Серый"],
	correctAnswer: 0 
},
{
	text: "Кто изобрел лекарство от бешенства",
	answers: ["Г.Мендель",
		  "Н.Коперник",
		  "Л.Пастер"],
	correctAnswer: 2 
},
{
	text: "Чему равен квадратный корень из 144",
	answers: ["15",
		  "12",
		  "36"],
	correctAnswer: 1 
},
{
	text: "Кто написал \"Тихий дон\"",
	answers: ["М.Шолохов",
		  "Л.Толстой",
		  "А.Солженицин"],
	correctAnswer: 0 
},
{
	text: "Биссектриса это",
	answers: ["луч, исходящий из вершины угла и делящий этот угол на два равных угла",
		  "отрезок, соединяющий вершину треугольника с серединой противоположной стороны",
		  "перпендикуляр, опущенный из вершины треугольника на противоположную сторону"],
	correctAnswer: 0 
},
{
	text: "Когда состоялась бородиская битва",
	answers: ["1 сентября 1939",
		  "26 августа 1812",
		  "12 апреля 1960"],
	correctAnswer: 1 
},
{
	text: "Вставьте недостающий фрагмент в предложение: I don`t have ________ free time.",
	answers: ["a",
		  "much",
		  "some"],
	correctAnswer: 1
},
{
	text: "Символ есть:",
	answers: ["образ, видоизмененный переживанием",
		  "отражение личных представлений художника",
		  "образ - точная копия окружающей действительности"],
	correctAnswer: 0
}
];

var questionsUn = JSON.stringify(questionsArr);
localStorage.setItem("test1JSON.json", questionsUn);// Сохранение данных при необходимости их можно изъять методом getItem
var questions = JSON.parse(questionsUn);

var yourAns = new Array;
var score = 0;

function Engine(question, answer) {yourAns[question]=answer;}

function Score(){
   var answerText = "Результаты:\n";
   for(var i = 0; i < yourAns.length; ++i){
	var num = i+1;
	answerText=answerText+"\n    Вопрос №"+ num +"";
	if(yourAns[i]!=questions[i].correctAnswer){
	    answerText=answerText+"\n    Правильный ответ: " +
		questions[i].answers[questions[i].correctAnswer] + "\n";
	  }
        else{
	    answerText=answerText+": Верно! \n";
	    ++score;
	    }
       }

   answerText=answerText+"\nВсего правильных ответов: "+score+"\n";

   alert(answerText);
   yourAns = [];
   score = 0;
   clearForm("quiz");
}
function clearForm(name) {
   var f = document.forms[name];
   for(var i = 0; i < f.elements.length; ++i) {
	if(f.elements[i].checked)
		f.elements[i].checked = false;
}
}
</script>
<style>
span.quest {font-weight: bold;}
</style>

<h1 style="color: #00ff00"><script>document.write(title)</script></h1>
<h2 style="color: #00ff00"><script>document.write(subtitle)</script></h2>

<form name="quiz" id="box1">
<ol>
<script>
for(var q=0; q<questions.length; ++q) {
   var question = questions[q];
   var idx = 1 + q;

   document.writeln('<li><span class="quest">' + question.text + '</span><br/>');
   for(var i in question.answers) {
	document.writeln('<input type=radio name="q' + idx + '" value="' + i +
	'" onClick="Engine(' + q + ', this.value)">' + question.answers[i] + '<br/>');
}
}
</script>
</ol>
<input type="button" class="button1 buttomProperties" onClick="Score()" value="Проверить результаты" />

</form>

<p><span><a class="button1 buttomProperties" href="test.html">Назад</a></span></p>
</body>
</html>